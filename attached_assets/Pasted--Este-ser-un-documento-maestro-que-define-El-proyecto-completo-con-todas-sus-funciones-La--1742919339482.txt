Â¡
Este serÃ¡ un documento maestro que define:
â€¢ El proyecto completo con todas sus funciones
â€¢ La lÃ³gica esperada del sistema
â€¢ Los flujos de trabajo y reglas de negocio
â€¢ Las tecnologÃ­as recomendadas
â€¢ Y lo mÃ¡s importante: una guÃ­a para que Replit Agent trabaje de forma autÃ³noma y sin intervenciÃ³n humana
 
ğŸ›¡ï¸ Prompt Maestro para Replit Agent â€“ Proyecto ShieldCuisine
 
ğŸ“¦ PARTE 1 â€“ DESCRIPCIÃ“N GENERAL DEL PROYECTO

ğŸ§¾ Nombre del proyecto:

ShieldCuisine

ğŸ¯ DescripciÃ³n:

AplicaciÃ³n web para la gestiÃ³n integral y automatizada de negocios de alimentaciÃ³n (restaurantes, obradores, tiendas, supermercados, catering o industrias). ShieldCuisine digitaliza procesos clave: seguridad alimentaria (APPCC), trazabilidad, almacÃ©n, ventas, producciÃ³n, facturaciÃ³n, personal y formaciÃ³n, integrando todo en un ecosistema modular y conectado.

ğŸ¤– Objetivo de ejecuciÃ³n:

Replit Agent debe actuar de manera completamente autÃ³noma, tomando las mejores decisiones tÃ©cnicas en cada fase del desarrollo. No se requerirÃ¡ intervenciÃ³n humana en ningÃºn punto del proceso.

ğŸ’» Plataforma:

AplicaciÃ³n web responsiva (PWA), accesible desde ordenadores, tablets y mÃ³viles.

ğŸŒ Funcionamiento:

Principalmente online, pero deberÃ¡ incluir modo offline para Ã¡reas crÃ­ticas como TPV y control diario (con sincronizaciÃ³n posterior).

â˜ï¸ Hosting:

El agente deberÃ¡ seleccionar la mejor opciÃ³n entre Replit, AWS, Railway o Vercel, con preferencia por una soluciÃ³n escalable y segura.

ğŸ—‚ï¸ Base de datos:

Usar PostgreSQL como motor principal. En casos que lo justifiquen, se puede utilizar MongoDB como base secundaria para documentos dinÃ¡micos.

ğŸŒ Idioma:
â€¢ Lenguaje de interacciÃ³n con Replit Agent: EspaÃ±ol
â€¢ Idioma de la interfaz de la app: EspaÃ±ol (debe permitir traducciÃ³n futura)
 
ğŸ§© PARTE 2 â€“ ESTRUCTURA MODULAR Y LÃ“GICA DEL SISTEMA

ğŸ§± Arquitectura general:
â€¢ Multiempresa: Una cuenta puede tener mÃºltiples empresas registradas (cliente final).
â€¢ Multisede: Cada empresa puede tener mÃºltiples locales, obradores o tiendas.
â€¢ Multi-almacÃ©n: Cada local puede tener mÃºltiples almacenes fÃ­sicos o virtuales.
â€¢ MultimÃ³dulo: ActivaciÃ³n/desactivaciÃ³n de mÃ³dulos segÃºn tipo de negocio.

âš™ï¸ Cada mÃ³dulo debe poder funcionar de manera autÃ³noma o interconectada, respetando permisos, contexto de empresa, local y almacÃ©n.
 
ğŸ” PARTE 3 â€“ MÃ“DULO 1: APPCC Y CUMPLIMIENTO NORMATIVO (VersiÃ³n avanzada)

ğŸ¯ Objetivo:

Digitalizar y automatizar el sistema APPCC adaptado a cada tipo de negocio alimentario. Eliminar el papel, mejorar la trazabilidad y facilitar auditorÃ­as.

ğŸ§  Funciones clave:
1. Constructor de plantillas tipo drag & drop:
â€¢ Permite crear fichas de control personalizadas.
â€¢ Elementos: checkbox, texto, nÃºmero, imagen, firma, adjunto, selectores.
â€¢ ConfiguraciÃ³n de periodicidad: diaria, semanal, mensual.
â€¢ ConfiguraciÃ³n de responsables, ubicaciÃ³n (local y almacÃ©n), tipo de aviso.
2. Tipos de ficha:
â€¢ Checklist: Limpieza, desinfecciÃ³n, control rutinario.
â€¢ Formulario: Registro de entrada de mercancÃ­a, partes de apertura/cierre, incidentes.
3. Vistas:
â€¢ Vista diaria: Acceso desde dispositivos mÃ³viles/tablets para usuarios operativos.
â€¢ Vista mensual: Seguimiento de cumplimiento para supervisores.
4. Firma digital y trazabilidad total:
â€¢ Registro inviolable con firma del usuario.
â€¢ GeneraciÃ³n automÃ¡tica de PDF si se requiere.
5. Alertas automÃ¡ticas:
â€¢ Por incumplimiento, retraso o anomalÃ­as.
â€¢ Integradas con sistema de notificaciones global.
6. Informes:
â€¢ Informes automÃ¡ticos (mensuales, por control, por Ã¡rea).
â€¢ Exportables en PDF, CSV o acceso vÃ­a API.

ğŸ”— IntegraciÃ³n:
â€¢ MÃ³dulo 2 (AlmacÃ©n): puede alimentar datos (temperatura cÃ¡maras, recepciÃ³n).
â€¢ MÃ³dulo 7 (Portal de transparencia): publica registros aprobados.
â€¢ MÃ³dulo 13 (Avisos): se encarga de las notificaciones y recordatorios.
 
ğŸ§© PARTE 4 â€“ MÃ“DULO 2: GESTIÃ“N DE ALMACÃ‰N Y TRAZABILIDAD MULTISEDE

ğŸ¯ Objetivo:

Controlar entradas, salidas, traslados, caducidades y trazabilidad total de alimentos e insumos por sede y almacÃ©n.

ğŸ§  Funciones clave:
1. Multi-almacÃ©n por local:
â€¢ Posibilidad de definir mÃºltiples almacenes fÃ­sicos o virtuales.
â€¢ Ej: AlmacÃ©n de materia prima, de producto terminado, de descartes.
2. Trazabilidad avanzada:
â€¢ Lote, proveedor, fecha de entrada, caducidad, precio de compra.
â€¢ Historial completo de movimientos por producto.
3. Movimientos entre almacenes o locales:
â€¢ TPV de traslado interno con validaciÃ³n.
â€¢ Registro de envÃ­o, recepciÃ³n, fecha, responsables.
4. Escaneo de productos:
â€¢ CÃ³digo de barras o QR.
â€¢ AsignaciÃ³n automÃ¡tica al producto correspondiente.
5. Inventario:
â€¢ AuditorÃ­a manual o escaneada.
â€¢ Informes de diferencia entre stock teÃ³rico y real.
6. Alertas:
â€¢ Producto cercano a caducidad.
â€¢ Stock bajo mÃ­nimo configurable.

ğŸ”— IntegraciÃ³n:
â€¢ MÃ³dulo 6 (Escandallos): descuenta automÃ¡ticamente ingredientes.
â€¢ MÃ³dulo 3 (TPV): descuenta stock segÃºn venta.
â€¢ MÃ³dulo 9 (ProducciÃ³n): insumo y producto terminado.
â€¢ MÃ³dulo 8 (Proveedores): entrada de mercancÃ­a vinculada.
 
ğŸ§© PARTE 5 â€“ MÃ“DULO 3: SISTEMA TPV (MULTITIPO)

ğŸ¯ Objetivo:

Gestionar ventas, entradas, salidas, pedidos internos o albaranes desde terminales especializados segÃºn tipo de negocio.

ğŸ§  Tipos de TPV:

ğŸ½ï¸ TPV Restaurante:
â€¢ GestiÃ³n de mesas.
â€¢ Pedidos por comensal y por ronda.
â€¢ EnvÃ­o automÃ¡tico a cocina (categorÃ­as).
â€¢ DivisiÃ³n/fusiÃ³n de cuentas.
â€¢ ImpresiÃ³n o factura digital.

ğŸ›’ TPV Tienda/Supermercado:
â€¢ Escaneo de productos.
â€¢ Venta rÃ¡pida.
â€¢ MÃ©todos de pago mÃºltiples.
â€¢ IntegraciÃ³n con balanzas (si aplica).

ğŸ­ TPV Industria/Obrador:
1. RecepciÃ³n de mercancÃ­as
â€¢ Escaneo, asignaciÃ³n de lote y almacÃ©n.
â€¢ Vinculado al mÃ³dulo de compras.
2. AlbarÃ¡n de salida
â€¢ GeneraciÃ³n de documento sin ticket.
â€¢ Vinculado a cliente y almacÃ©n origen.
3. PreparaciÃ³n de pedidos internos
â€¢ Movimiento de stock entre sedes.
â€¢ ValidaciÃ³n por escaneo y doble control.

ğŸ§  Comportamiento general:
â€¢ Todos los TPVs deben funcionar en modo offline (con sincronizaciÃ³n posterior).
â€¢ Interfaz responsiva y adaptada a pantalla tÃ¡ctil.
â€¢ Accesos y permisos por rol, local y tipo de TPV.

ğŸ”— IntegraciÃ³n:
â€¢ MÃ³dulo 2 (AlmacÃ©n): entradas, salidas, consumos.
â€¢ MÃ³dulo 4 (FacturaciÃ³n): generaciÃ³n automÃ¡tica de facturas.
â€¢ MÃ³dulo 9 (ProducciÃ³n): activaciÃ³n de Ã³rdenes de producciÃ³n.
 
 
ğŸ§© PARTE 6 â€“ MÃ“DULO 4: FACTURACIÃ“N Y FINANZAS

ğŸ¯ Objetivo:

Automatizar la generaciÃ³n de facturas, control de impuestos y exportaciÃ³n de datos financieros para contabilidad externa.

ğŸ§  Funciones clave:
1. FacturaciÃ³n automÃ¡tica:
â€¢ Basada en ventas desde el TPV.
â€¢ Basada en albaranes o pedidos emitidos.
â€¢ Soporta clientes con NIF, CIF, direcciÃ³n fiscal, etc.
2. GeneraciÃ³n de facturas en PDF:
â€¢ Con logotipo, datos de la empresa y pie personalizado.
â€¢ OpciÃ³n de envÃ­o automÃ¡tico por correo al cliente.
3. GestiÃ³n de impuestos:
â€¢ ConfiguraciÃ³n de IVA, IRPF u otros segÃºn paÃ­s.
â€¢ DivisiÃ³n automÃ¡tica de bases y tipos.
4. ExportaciÃ³n:
â€¢ Informes contables en Excel, CSV y PDF.
â€¢ Por fechas, cliente, sede o tipo de operaciÃ³n.
5. FacturaciÃ³n programada:
â€¢ Facturas agrupadas por periodo (ej. cliente recurrente semanal/mensual).

ğŸ”— Integraciones:
â€¢ TPV (MÃ³dulo 3): Cada ticket puede generar factura.
â€¢ Bancos (MÃ³dulo 5): ConciliaciÃ³n de pagos.
â€¢ Cursos (MÃ³dulo 12): FacturaciÃ³n de formaciÃ³n o certificaciones.
 
ğŸ§© PARTE 7 â€“ MÃ“DULO 5: CONEXIÃ“N BANCARIA Y GESTIÃ“N DE PAGOS

ğŸ¯ Objetivo:

Controlar pagos y cobros sincronizando cuentas bancarias, y automatizar conciliaciones.

ğŸ§  Funciones clave:
1. ConexiÃ³n con bancos (PSD2 / Open Banking):
â€¢ Usar APIs como Plaid, Tink, Salt Edge segÃºn paÃ­s.
â€¢ Acceso a movimientos, saldos y detalles de transacciones.
2. ConciliaciÃ³n automÃ¡tica:
â€¢ RevisiÃ³n de facturas cobradas.
â€¢ AsociaciÃ³n automÃ¡tica entre movimientos y facturas.
3. Cobros domiciliados (SEPA):
â€¢ GeneraciÃ³n de ficheros XML SEPA.
â€¢ AgrupaciÃ³n por cliente y periodicidad.
4. Panel financiero:
â€¢ Reportes en tiempo real.
â€¢ Filtros por sede, tipo de operaciÃ³n o estado.
 
ğŸ§© PARTE 8 â€“ MÃ“DULO 6: ESCANDALLOS Y FICHAS TÃ‰CNICAS

ğŸ¯ Objetivo:

Gestionar recetas, ingredientes, costos y etiquetado para productos elaborados.

ğŸ§  Funciones clave:
1. CreaciÃ³n de fichas tÃ©cnicas:
â€¢ Ingredientes, cantidades, descripciÃ³n de elaboraciÃ³n, unidad de medida.
â€¢ CÃ¡lculo automÃ¡tico de costes segÃºn el precio de compra actualizado.
2. Etiquetado nutricional y alÃ©rgenos:
â€¢ Manual o automÃ¡tico.
â€¢ Etiquetas generadas en PDF con toda la informaciÃ³n requerida.
3. Control de stock desde receta:
â€¢ Al producir un producto, se descuentan automÃ¡ticamente los ingredientes usados del almacÃ©n correspondiente.
4. Multi-formato:
â€¢ Escandallos para bandejas, unidades, raciones o lotes.
 
ğŸ§© PARTE 9 â€“ MÃ“DULO 7: PORTAL DE TRANSPARENCIA

ğŸ¯ Objetivo:

Permitir a los clientes finales consultar informaciÃ³n de seguridad alimentaria, higiene y fichas de producto.

ğŸ§  Funciones clave:
1. PublicaciÃ³n de registros APPCC:
â€¢ SÃ³lo los aprobados y conformes.
â€¢ Por local o empresa.
2. Acceso a fichas de productos:
â€¢ Ingredientes, alÃ©rgenos, valores nutricionales.
3. Certificados:
â€¢ VisualizaciÃ³n y descarga de documentos legales o sanitarios.
4. PersonalizaciÃ³n:
â€¢ Branding del negocio, colores, logo y estilo.
 
ğŸ§© PARTE 10 â€“ MÃ“DULO 8: PEDIDOS Y PROVEEDORES

ğŸ¯ Objetivo:

Optimizar compras, recepciÃ³n de productos y vinculaciÃ³n con almacenes.

ğŸ§  Funciones clave:
1. Ã“rdenes de compra:
â€¢ Por proveedor, sede y almacÃ©n.
â€¢ Agrupadas por categorÃ­a o fecha de entrega.
2. Seguimiento de estado:
â€¢ Pendiente, Enviado, Parcial, Recibido.
â€¢ Incidencias registradas con evidencia (foto/comentario).
3. VinculaciÃ³n con stock:
â€¢ Al recibir el pedido, se ingresa automÃ¡ticamente al almacÃ©n correspondiente.
â€¢ Vinculado a TPV de industria/recepciÃ³n.
4. GestiÃ³n de proveedores:
â€¢ Datos fiscales, contacto, productos frecuentes, fiabilidad.
 
ğŸ§© PARTE 11 â€“ MÃ“DULO 9: PRODUCCIÃ“N Y FABRICACIÃ“N

ğŸ¯ Objetivo:

Planificar y registrar producciÃ³n de productos elaborados.

ğŸ§  Funciones clave:
1. PlanificaciÃ³n automÃ¡tica:
â€¢ SegÃºn stock mÃ­nimo, demanda o pedidos abiertos.
2. Registro de lotes:
â€¢ GeneraciÃ³n de lote Ãºnico, vinculaciÃ³n con escandallo.
3. Control de mermas:
â€¢ Registro de cantidades no utilizables.
4. Dashboard de eficiencia:
â€¢ ProducciÃ³n por dÃ­a, local, producto o usuario.
â€¢ Comparativa teÃ³rico vs. real.
 
ğŸ§© PARTE 12 â€“ MÃ“DULO 10: RRHH Y TURNOS

ğŸ¯ Objetivo:

Controlar asistencia, fichajes y turnos del personal.

ğŸ§  Funciones clave:
1. Fichaje con QR o app:
â€¢ Entrada y salida.
â€¢ UbicaciÃ³n y hora exacta.
2. GestiÃ³n de turnos:
â€¢ PlanificaciÃ³n por rol y sede.
â€¢ Vacaciones y ausencias.
3. Reportes:
â€¢ Horas trabajadas, incidencias, historial de empleados.
 
ğŸ§© PARTE 13 â€“ MÃ“DULO 11-12-13: EXTRAS AVANZADOS

ğŸŒ MÃ³dulo 11: IntegraciÃ³n con WooCommerce
â€¢ SincronizaciÃ³n de productos, precios, stock.
â€¢ RecepciÃ³n de pedidos vÃ­a webhook.
â€¢ IntegraciÃ³n con producciÃ³n y almacÃ©n.

ğŸ“ MÃ³dulo 12: FormaciÃ³n y cursos online
â€¢ Plataforma e-learning integrada.
â€¢ Cursos de APPCC, higiene, procedimientos internos.
â€¢ CertificaciÃ³n automÃ¡tica y panel de seguimiento.

ğŸ”” MÃ³dulo 13: Sistema de avisos y notificaciones
â€¢ Notificaciones push/web/email/WhatsApp.
â€¢ ProgramaciÃ³n de alertas recurrentes.
â€¢ VinculaciÃ³n con fichas APPCC, auditorÃ­as, pedidos, vencimientos.
 
ğŸ›¡ï¸ PARTE 14 â€“ ROLES, SEGURIDAD Y PERMISOS

ğŸ¯ Objetivo:

Garantizar una gestiÃ³n segura, multiusuario y jerarquizada por roles y localizaciÃ³n.

ğŸ§  Esquema de roles (editable por superadmin):
â€¢ Administrador global
â€¢ Responsable de local
â€¢ Supervisor de Ã¡rea
â€¢ Empleado operativo
â€¢ Usuario externo (cliente del portal)

ğŸ”’ Seguridad esperada:
â€¢ AutenticaciÃ³n con contraseÃ±a, 2FA y/o login social (Google, Microsoft).
â€¢ Cifrado de datos sensibles.
â€¢ Registro de actividad (logs de acciones).
 
ğŸ§© PARTE 15 â€“ INTERFAZ, EXPERIENCIA Y FUNCIONES TRANSVERSALES

ğŸ¨ Interfaz:
â€¢ Basada en React o Next.js
â€¢ Material UI o diseÃ±o propio limpio y responsivo.
â€¢ Soporte para modo oscuro.
â€¢ NavegaciÃ³n lateral y bÃºsqueda rÃ¡pida.

ğŸ“² Experiencia:
â€¢ OptimizaciÃ³n mÃ³vil.
â€¢ InteracciÃ³n tÃ¡ctil fluida.
â€¢ Formularios con autoguardado.
â€¢ Modo offline para mÃ³dulos crÃ­ticos.

ğŸ” Funciones transversales:
â€¢ Filtro por empresa, local y fecha en todas las vistas.
â€¢ ExportaciÃ³n masiva de datos.
â€¢ Buscador global inteligente.
â€¢ MÃ³dulo de configuraciÃ³n con flags por sede/modo de negocio.
 
ğŸ”š CONCLUSIÃ“N Y ORDEN FINAL

ğŸ”§ Replit Agent debe construir ShieldCuisine como un sistema modular, autÃ³nomo, escalable, seguro y adaptable, cumpliendo con todos los comportamientos detallados aquÃ­. El desarrollo debe ejecutarse sin intervenciÃ³n humana, aplicando las mejores prÃ¡cticas y decisiones tÃ©cnicas donde haya ambigÃ¼edad.


